<!DOCTYPE html>
<html lang="pt-br" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content=" user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height"
    />
    <link rel="icon" href="assets/imgs/fingerWhite.png" />
    <title>DASHBOARD</title>

    <script src="./js/session.js"></script>

    <link rel="stylesheet" type="text/css" href="./css/global.css" />
    <link rel="stylesheet" type="text/css" href="./css/global.media.css" />
    <link rel="stylesheet" type="text/css" href="./css/popups.css" />
    <link rel="stylesheet" type="text/css" href="./css/dashboard.css" />
    <link rel="stylesheet" type="text/css" href="./css/dashboard.media.css" />
    <link rel="stylesheet" type="text/css" href="./css/chart.css" />
    <link rel="stylesheet" type="text/css" href="./css/chart.media.css" />

    <!-- CHECKBOXES -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/pretty-checkbox@3.0/dist/pretty-checkbox.min.css"
    />

    <!-- CHART.JS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body
    onload="validateSession(), showMachines(), viewLoad('hide'), 
  getFamily(), showAccess(), hideLoading()"
  >
    <!-- LOADER -->
    <div class="loader">
      <img
        src="assets/gifs/loading.gif"
        class="to-invert"
        alt="loader gif"
        draggable="false"
      />
    </div>
    <div class="loader load-proc invisible">
      <img
        src="assets/gifs/loadingRed.gif"
        alt="loading process gif"
        draggable="false"
      />
    </div>

    <!-- MESSAGE -->
    <div id="messages">
      <div class="message-modal invisible">
        <div id="message_bar"></div>
        <ion-icon name="" id="message_icon"></ion-icon>
        <p id="message_text"></p>
        <ion-icon
          name="close-outline"
          class="close-form"
          onclick="hideMessage(this)"
          title="Fechar mensagem"
        />
      </div>
    </div>

    <!-- CONFIRMATION -->
    <div class="confirmation-back invisible">
      <div class="form-card confirmation-modal">
        <h1 id="confirm_message">Adicionar uma nova máquina?</h1>
        <div class="confirmation-modal--buttons">
          <button id="yes_button">Sim</button>
          <button id="no_button" onclick="hideConfirm()">Não</button>
        </div>
      </div>
    </div>

    <!-- HEADER -->
    <header>
      <div class="container">
        <a
          onclick="cleanSession()"
          href="./index.html"
          style="display: contents"
        >
          <div class="wrapper-logo">
            <div alt="MAN.OS" class="to-invert" draggable="false"></div>
          </div>
        </a>
        <div class="wrapper-buttons">
          <button
            type="button"
            onclick="showLogin()"
            onmouseenter="borderChange(this)"
            onmouseleave="resetBorder(this)"
            title="Acessar DASHBOARD"
            tabindex="4"
          >
            DASHBOARD
          </button>
          <ion-icon
            name="menu-outline"
            id="menu_icon"
            title="Abrir menu"
            onclick="showMenu()"
            onkeypress="showMenu()"
            tabindex="4"
          />
        </div>
        <nav class="menu-nav dashboard">
          <ul>
            <a
              href="#"
              tabindex="1"
              draggable="false"
              onclick="showSection('#dispositivos'), showMachines()"
            >
              <li>Dispositivos</li>
            </a>
            <a
              href="#"
              tabindex="2"
              draggable="false"
              onclick="showSection('#colecoes'), showFamilies()"
            >
              <li>Coleções</li>
            </a>
            <a
              href="#"
              tabindex="3"
              draggable="false"
              onclick="showSection('#acessos'),showAccess()"
            >
              <li>Acessos</li>
            </a>
            <a
              href="#"
              tabindex="4"
              draggable="false"
              onclick="showSection('#usuarios'), showUsers()"
            >
              <li>Usuários</li>
            </a>
            <a
              class="quit-icon"
              href="#"
              draggable="false"
              onclick="setYes('Encerrar sessão', 'cleanSession', true)"
              title="Voltar ao início"
            >
              <ion-icon name="exit"></ion-icon>
            </a>
          </ul>
        </nav>
      </div>
    </header>

    <!-- MENU CARD -->
    <aside class="popup-aside invisible" id="aside_menu">
      <div class="menu-nav hamburger">
        <ul>
          <a
            href="#"
            tabindex="1"
            id="menu_first_item"
            onclick="showSection('#dispositivos'), showMachines()"
          >
            <li>Dispositivos</li>
          </a>
          <a
            href="#"
            tabindex="2"
            onclick="showSection('#colecoes'), showFamilies()"
          >
            <li>Coleções</li>
          </a>
          <a
            href="#"
            tabindex="3"
            onclick="showSection('#acessos'),showAccess()"
          >
            <li>Acessos</li>
          </a>
          <a
            href="#"
            tabindex="3"
            onclick="showSection('#usuarios'), showUsers()"
          >
            <li>Usuários</li>
          </a>
          <a
            class="quit-icon"
            href="#"
            draggable="false"
            onclick="cleanSession(), validateSession()"
            title="Voltar ao início"
          >
            <ion-icon name="exit"></ion-icon>
            <p>SAIR</p>
          </a>
        </ul>
        <ion-icon
          name="close-outline"
          class="close-form"
          onclick="hideMenu()"
          onkeypress="hideMenu()"
          title="Fechar tela"
          tabindex="4"
        />
      </div>
    </aside>

    <!-- SECTION CONTENTS -->
    <section class="sec-main">
      <!-- machines -->
      <section id="dispositivos" class="sec">
        <div class="header">
          <h1>Dispositivos</h1>
          <div>
            <button
              class="btn-add"
              title="Adicionar uma nova máquina"
              onclick="formView(true, 'Adicionar máquina', 'machine', 'add')"
              onkeypress="formView(true, 'Adicionar máquina', 'machine', 'add')"
            >
              <ion-icon name="add-outline"></ion-icon>
              <p>ADICIONAR</p>
            </button>
          </div>
        </div>
        <div id="dispositivos_content" class="content">
          <!-- ADD MACHINES HERE -->
        </div>
      </section>
      <!-- families -->
      <section id="colecoes" class="sec">
        <div class="header">
          <h1>Coleções</h1>
          <div>
            <button
              class="btn-add"
              title="Adicionar uma nova coleção"
              onclick="formView(true, 'Adicionar coleção', 'family', 'add', null)"
              onkeypress="formView(true, 'Adicionar coleção', 'family', 'add', null)"
            >
              <ion-icon name="add-outline"></ion-icon>
              <p>ADICIONAR</p>
            </button>
          </div>
        </div>
        <div id="colecoes_content" class="content">
          <!-- ADD FAMILIES HERE -->
        </div>
      </section>
      <!-- access -->
      <section id="acessos" class="sec">
        <div class="header">
          <h1>Acessos</h1>
          <div>
            <button
              class="btn-add"
              title="Adicionar uma nova permissão"
              onclick="formView(true, 'Adicionar acesso', 'access', 'add')"
              onkeypress="formView(true, 'Adicionar acesso', 'access', 'add')"
            >
              <ion-icon name="add-outline"></ion-icon>
              <p>ADICIONAR</p>
            </button>
          </div>
        </div>
        <div id="acessos_content" class="content">
          <!-- ADD ACCESS HERE -->
        </div>
      </section>
      <!-- users -->
      <section id="usuarios" class="sec">
        <div class="header">
          <h1>Usuários</h1>
          <div>
            <button
              onclick="formView(true, 'Editar usuário', 'user', 'edit', 'idUser')"
              id="userEditButton"
              class="btn-special user-btn"
              disabled
            >
              <ion-icon name="create-outline"></ion-icon>
              <p>EDITAR</p>
            </button>

            <button id="userRemoveButton" class="btn-special user-btn" disabled>
              <ion-icon name="trash-outline"></ion-icon>
              <p>REMOVER</p>
            </button>
            <button
              class="btn-add"
              title="Adicionar um novo usuário"
              onclick="formView(true, 'Adicionar usuário', 'user', 'add')"
              onkeypress="formView(true, 'Adicionar usuário', 'user', 'add')"
            >
              <ion-icon name="add-outline"></ion-icon>
              <p>ADICIONAR</p>
            </button>
          </div>
        </div>
        <div class="content table-content">
          <table class="main-table">
            <thead>
              <tr>
                <td>Nome</td>
                <td>Email</td>
                <td>Permissão</td>
                <td>Data</td>
                <td class="lastTdBorder">Gestor</td>
              </tr>
            </thead>
            <tbody id="usersDisplay">
              <!-- ADD USERS HERE -->
            </tbody>
          </table>
        </div>
      </section>
    </section>

    <!-- POPUPS -->
    <aside class="popup-form popup-aside" id="aside_forms">
      <div class="form-card" id="form_card">
        <h1 id="form_title">Adicionar acesso</h1>
        <form id="form_inputs">
          <!-- ACCESS -->
          <div class="form__input input-access">
            <select name="web" id="access_type_select">
              <option value="" disabled selected>selecionar tipo</option>
              <option value="web">Web</option>
              <option value="desktop">Desktop</option>
            </select>
          </div>
          <div class="form__input input-access">
            <label for="accessName">Nome</label>
            <input name="accessName" id="access_name" type="text" />
          </div>
          <!-- FAMILIES -->
          <div class="form__input input-family edit">
            <select name="familyLevel" id="family_level_select">
              <option value="" disabled selected>selecionar nível</option>
              <option value="Student">Estudante</option>
              <option value="Junior">Junior</option>
              <option value="InCharge">InCharge</option>
              <option value="Adm">Admin</option>
            </select>
          </div>
          <div class="form__input input-family edit">
            <label for="familyName">Nome</label>
            <input name="familyName" id="family_name" type="text" />
          </div>
          <div class="form__input input-family div-checks edit">
            <!-- INSERT CHECKS HERE -->
          </div>
          <!-- MACHINES -->
          <div class="form__input input-machine edit">
            <select name="machineFamily" id="machine_family_select">
              <option value="" disabled selected>selecionar coleção</option>
              <!-- INSERT MACHINE FAMILIES HERE -->
            </select>
          </div>
          <div class="form__input input-machine edit">
            <label for="machineName">Nome</label>
            <input name="machineName" id="machine_name" type="text" />
          </div>
          <!-- USERS -->
          <div class="form__input input-user edit">
            <select name="userOffice" id="user_office">
              <option value="" disabled selected>selecionar cargo</option>
              <option value="MASTER">MASTER</option>
              <option value="ADMIN">ADMIN</option>
              <option value="ANALYST">ANALISTA</option>
            </select>
          </div>
          <div class="form__input input-user edit">
            <label for="userName">Nome</label>
            <input name="userName" id="user_name" type="text" />
          </div>
          <div class="form__input input-user edit">
            <label for="userEmail">Email</label>
            <input name="userEmail" id="user_email" type="text" />
          </div>
          <div class="form__input input-user edit">
            <label for="userPassword">Senha</label>
            <input
              name="userPassword"
              id="user_password"
              type="password"
              autocomplete="off"
            />
          </div>
        </form>
        <button type="button" id="button_form" class="btnForm">
          ADICIONAR
        </button>
        <ion-icon
          name="close-outline"
          class="close-form"
          onclick="formView(false)"
          onkeypress="formView(false)"
          title="Fechar tela"
        />
      </div>
      <div class="dash-card" id="dash_card">
        <div>
          <!-- CONSTANT -->
          <div class="dash-sec constant-info">
            <h1 id="constant_title">Mama1</h1>
            <h1 id="operationalSystem">WINDOWS</h1>
            <div class="constant-block">
              <h1>CPU</h1>
              <p><strong>-></strong> MODELO:&ensp;<span id="cpuName"></span></p>
              <p>
                <strong>-></strong> NÚCLEOS:&ensp;<span id="cpuCore"></span>
              </p>
            </div>
            <div class="constant-block">
              <h1>RAM</h1>
              <p>
                <strong>-></strong> TAMANHO:&ensp;<span id="ramSize"></span>
              </p>
              <p>
                <strong>-></strong> UTILIZÁVEL:&ensp;<span
                  id="ramUsable"
                ></span>
              </p>
            </div>
            <div class="constant-block">
              <h1>DISCO</h1>
              <p>
                <strong>-></strong> MODELO:&ensp;<span id="diskModel"></span>
              </p>
              <p>
                <strong>-></strong> TAMANHO:&ensp;<span id="diskSize"></span>
              </p>
            </div>
          </div>
          <!-- DYNAMIC -->
          <div class="dash-sec dynamic-info">
            <div class="sub-sections">
              <button id="CPU">
                <ion-icon name="hardware-chip"></ion-icon>
                <p>CPU</p>
              </button>
              <button id="RAM">
                <ion-icon name="file-tray-full"></ion-icon>
                <p>RAM</p>
              </button>
              <button id="PROCESSOS">
                <ion-icon name="finger-print"></ion-icon>
                <p>PROCESSOS</p>
              </button>
            </div>
            <div class="graph">
              <canvas id="machineCanvas" style="width: 100%;"></canvas>
            </div>
          </div>
          <div style="grid-area: process"></div>
          <!-- <div class="process-info"></div> -->
        </div>
        <ion-icon
          name="close-outline"
          class="close-form"
          onclick="formView(false), closeMachineDash()"
          onkeypress="formView(false), closeMachineDash()"
          title="Fechar tela"
        />
      </div>
    </aside>
    <!-- THEME CHANGER -->
    <input
      type="checkbox"
      alt="Change theme"
      id="theme_changer"
      title="Alterar tema"
    />
    <label for="theme_changer" title="Alterar tema" class="to-invert"></label>

    <!-- IONICONS IMPORT -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.1.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.1.2/dist/ionicons/ionicons.js"
    ></script>
  </body>
</html>

<!-- JAVASCRIPT -->
<scripts>
  <!-- GLOBAL -->
  <script src="./js/global.js"></script>
  <script src="./js/global.addons.js"></script>
  <!-- USERS -->
  <script src="./js/fetches/usersFetch/login.js"></script>
  <script src="./js/fetches/usersFetch/showUsers.js"></script>
  <script src="./js/fetches/usersFetch/addUser.js"></script>
  <script src="./js/fetches/usersFetch/editUser.js"></script>
  <script src="./js/fetches/usersFetch/deleteUser.js"></script>
  <!-- FAMILY -->
  <script src="./js/fetches/familyFetch/getFamily.js"></script>
  <script src="./js/fetches/familyFetch/showFamilies.js"></script>
  <script src="./js/fetches/familyFetch/addFamily.js"></script>
  <script src="./js/fetches/familyFetch/editFamily.js"></script>
  <script src="./js/fetches/familyFetch/removeFamily.js"></script>
  <!-- ACCESS -->
  <script src="./js/fetches/accessFetch/addAccess.js"></script>
  <script src="./js/fetches/accessFetch/showAccess.js"></script>
  <script src="./js/fetches/accessFetch/removeAccess.js"></script>
  <!-- MACHINE -->
  <script src="./js/fetches/machineFetch/addMachine.js"></script>
  <script src="./js/fetches/machineFetch/removeMachine.js"></script>
  <script src="./js/fetches/machineFetch/editMachine.js"></script>
  <script src="./js/fetches/machineFetch/showMachines.js"></script>
  <script src="./js/fetches/machineFetch/getMachinesData.js"></script>
  <!-- DASH -->
  <script src="./js/fetches/dashboardFetch/chartUtils/closeMachineDash.js"></script>
  <script src="./js/fetches/dashboardFetch/machineDashContent.js"></script>
  <script src="./js/fetches/dashboardFetch/chartUtils/styleVars.js"></script>
  <script src="./js/fetches/dashboardFetch/chartUtils/customProps.js"></script>
  <script src="./js/fetches/dashboardFetch/chartUtils/chartConfig.js"></script>
  <script src="./js/fetches/dashboardFetch/chartPlotting.js"></script>
  <script src="./js/fetches/dashboardFetch/chartUtils/changeMachineDash.js"></script>
  <!-- PAGE -->
  <script src="./js/pagesJS/dashboard.addons.js"></script>
  <script src="./js/pagesJS/dashboard.js"></script>
</scripts>
